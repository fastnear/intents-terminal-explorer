/*
 * Ratacat Unified Theme - CSS Variables
 * csli-style consistency across all targets
 *
 * Color variables are injected at runtime from src/theme.rs via wasm_start()
 * This ensures TUI and web/Tauri use the same color palette.
 */

:root {
  /* Color variables (injected by theme.rs)
   * --bg, --panel, --panel-alt, --fg, --fg-dim, --border,
   * --accent, --accent-strong, --sel-bg, --success, --warn, --error,
   * --json-bg, --json-key, --json-string, --json-number, --json-bool, --json-struct
   */

  /* Non-color styling metrics */
  --radius: 4px;                    /* border radius */
  --stroke: 1px;                    /* border width */
  --spacing: 8px;                   /* item spacing */
}

/* Apply theme to document */
html,
body {
  background-color: var(--bg);
  color: var(--fg);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Cascadia Mono", "Liberation Mono", Consolas, monospace;
  -webkit-font-smoothing: antialiased;
  -webkit-text-size-adjust: 100%;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  line-height: 1.45;
  cursor: default; /* Default cursor; set pointer from code when rows are hoverable */
}

/* Global rendering clarity for canvas-based UIs (egui + ratatui texture) */
canvas,
img,
video {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  image-rendering: -moz-crisp-edges;
  image-rendering: -webkit-optimize-contrast;
}

/* Legacy canvas ID (kept for backwards compat) */
#the_canvas_id {
  /* Crisp pixel rendering for terminal texture */
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  image-rendering: -moz-crisp-edges;
  image-rendering: -webkit-optimize-contrast;
}

/* Accessibility: ensure focus is always visible */
:focus-visible {
  outline: 2px solid var(--accent-strong);
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --bg: #000000;
    --fg: #ffffff;
    --border: #ffffff;
  }
}

/* Minimal scrollbar styling to match theme */
*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

*::-webkit-scrollbar-thumb {
  background: var(--panel-alt);
  border: 2px solid var(--panel);
  border-radius: var(--radius);
}

*::-webkit-scrollbar-track {
  background: var(--panel);
}

/* Panel styling for DOM elements (toasts, overlays) */
.nx-panel {
  background: var(--panel);
  color: var(--fg);
  border: var(--stroke) solid var(--border);
  border-radius: var(--radius);
  padding: var(--spacing);
}
